## 의존성 역전(D)
의존성 역전 원칙(DIP)은 `코드가 깨지거나 손상되는 취약점으로부터 보호해주는` 디자인 원칙을 제시한다.  
의존성을 역전시킨다는 것은 코드가 세부 사항이나 구체적인 구현에 적응하도록 하지 않고, 대신에 API 같은 것에 적응하도록 하는 것이다.  

추상화를 통해 세부 사항에 의존하지 않도록 하면서도, 반대로 구체적인 구현은 추상화에 의존해야 한다.  

A, B 두 객체가 상호 교류를하며 A는 B의 인스턴스를 사용하지만 B 모듈을 직접 관리하지는 않는다고 가정할시,  
의존성을 거꾸로 뒤집어서 역전시켜야 한다.  
즉, B가 A에 적응하게 해야한다.  

추상화는 인터페이스 형태로 제공된다.  
파이썬에서는 추상 기본 클래스의 형태로 제공된다.  

일반적으로 `구체적인 구현`이 `추상 컴포넌트`보다 훨씬 자주 바뀌기에,  
시스템이 변경, 수정, 확장될 것으로 예상되는 지점에 유연성을 확보하기 위해 `추상화`를 사용  

- 의존성이 발견되었을 시는  구체 클래스가 아닌 인터페이스와 대화하도록 변경  
- 인터페이스의 구현은 세부 구현사항을 가진 저수준 클래스가 담당하게 함  
이런 것을 `의존성을 동적으로 제공한다`고 하여 `의존성 주입(dependency injection)`이라고 함  

파이썬은 동적인 타입의 언어이기에 인터페이스를 사용하지 않고도 특정 객체를 넘기는 방식으로 제공할 수 있지만, 왜 굳이 추상 기본 클래스(인터페이스)를 정의할까?  

결국 이 방법이 다형성에서 상속이 항상 효과가 있다는 것을 의미하지는 않지만,  
1. 덕 타이핑: 덕 타이핑이 가능하면 모델의 가독성이 높아짐  
삭속은 is a 관계임을 기억하자!!!  
2. 클린 디자인을 위해서 바람직하다  
3. 파이썬이 너무 유연하여 자주 발생하는 실수를 줄이기 위함이다  

```
# is a
is a는 객체 간의 관계를 표현할 때 사용하는 용어중 하나로,  
The apple is a fruit처럼 is a를 사용해 표현이 가능하면 apple과 fruit은 상속 관계라는 뜻이다.  
apple이 fruit을 상속했으므로 `사과는 과일이다`라고 말할 수 있지만 그 반대로 `과일은 사과이다`는 성립하지 않는다.  
상속은 is a 관계를 표현하므로 이렇게 치환하는 것 만으로도 코드를 쉽게 이해할 수 있을 것이다.  
```